import{C as t,a as n,b as a,c as r,d as e,i as s,e as o,S as i,s as c,P as f,D as u,E as p,G as g,q as l,N as h,K as $,L as m,Q as v,R as d,f as y,g as w,h as x,j as b,l as R,k as D,n as P,o as j,p as S,J as E,M as I,A as k,T as A}from"./client.5d7159a7.js";import{_ as V,A as q}from"./parseImageSrc.9d853ddc.js";import{P as B,S as C}from"./Pagination.949a027e.js";function G(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,s=a(t);if(n){var o=a(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return r(this,e)}}function J(t,n,a){var r=t.slice();return r[4]=n[a],r}function K(t){for(var n,a,r=[t[4]],e={},s=0;s<r.length;s+=1)e=A(e,r[s]);return n=new C({props:e}),{c:function(){u(n.$$.fragment)},l:function(t){p(n.$$.fragment,t)},m:function(t,r){g(n,t,r),a=!0},p:function(t,a){var e=2&a?v(r,[d(t[4])]):{};n.$set(e)},i:function(t){a||(h(n.$$.fragment,t),a=!0)},o:function(t){$(n.$$.fragment,t),a=!1},d:function(t){m(n,t)}}}function L(t){for(var n,a,r,e,s,o=t[1].response,i=[],c=0;c<o.length;c+=1)i[c]=K(J(t,o,c));var f=function(t){return $(i[t],1,1,(function(){i[t]=null}))};return e=new B({props:{pagination:t[1].meta.pagination}}),{c:function(){n=y("div"),a=y("div");for(var t=0;t<i.length;t+=1)i[t].c();r=w(),u(e.$$.fragment),this.h()},l:function(t){n=x(t,"DIV",{class:!0});var s=b(n);a=x(s,"DIV",{class:!0});for(var o=b(a),c=0;c<i.length;c+=1)i[c].l(o);r=R(o),p(e.$$.fragment,o),o.forEach(D),s.forEach(D),this.h()},h:function(){P(a,"class","grid svelte-1g53gb"),P(n,"class","grid-wrap svelte-1g53gb")},m:function(t,o){j(t,n,o),S(n,a);for(var c=0;c<i.length;c+=1)i[c].m(a,null);S(a,r),g(e,a,null),s=!0},p:function(t,n){if(2&n){var s;for(o=t[1].response,s=0;s<o.length;s+=1){var c=J(t,o,s);i[s]?(i[s].p(c,n),h(i[s],1)):(i[s]=K(c),i[s].c(),h(i[s],1),i[s].m(a,r))}for(E(),s=o.length;s<i.length;s+=1)f(s);I()}var u={};2&n&&(u.pagination=t[1].meta.pagination),e.$set(u)},i:function(t){if(!s){for(var n=0;n<o.length;n+=1)h(i[n]);h(e.$$.fragment,t),s=!0}},o:function(t){i=i.filter(Boolean);for(var n=0;n<i.length;n+=1)$(i[n]);$(e.$$.fragment,t),s=!1},d:function(t){t&&D(n),k(i,t),m(e)}}}function M(t){var n,a;return n=new f({props:{pages:t[0],helmet:t[2],$$slots:{default:[L]},$$scope:{ctx:t}}}),{c:function(){u(n.$$.fragment)},l:function(t){p(n.$$.fragment,t)},m:function(t,r){g(n,t,r),a=!0},p:function(t,a){var r=l(a,1)[0],e={};1&r&&(e.pages=t[0]),130&r&&(e.$$scope={dirty:r,ctx:t}),n.$set(e)},i:function(t){a||(h(n.$$.fragment,t),a=!0)},o:function(t){$(n.$$.fragment,t),a=!1},d:function(t){m(n,t)}}}function N(t){return Q.apply(this,arguments)}function Q(){return(Q=V(t.mark((function n(a){var r,e;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(this.fetch,"api/posts-browse",{limit:5,page:a.params.page});case 2:return r=t.sent,t.next=5,q(this.fetch,"api/pages-browse");case 5:return e=t.sent,0===r.response.length&&this.error(404),t.abrupt("return",{posts:r,pages:e,page:a.params.page});case 8:case"end":return t.stop()}}),n,this)})))).apply(this,arguments)}function T(t,n,a){var r=n.pages,e=n.posts,s=n.page,o={title:"Page ".concat(s)};return t.$$set=function(t){"pages"in t&&a(0,r=t.pages),"posts"in t&&a(1,e=t.posts),"page"in t&&a(3,s=t.page)},[r,e,o,s]}var _=function(t){n(r,i);var a=G(r);function r(t){var n;return e(this,r),n=a.call(this),s(o(n),t,T,M,c,{pages:0,posts:1,page:3}),n}return r}();export default _;export{N as preload};
